{"version":3,"names":[],"mappings":"","sources":["calculator.js"],"sourcesContent":["$(document).ready(function () {\n/*============ output list ==============*/\n    var scrollTime = 1200;\n// output priceList\n    var prodBtn = $('[name=\"product\"]');\n    var modelBtn;\n    var colorBtn;\n    var prodName;\n    function OutputModel() {\n        $('.select-problem').removeClass('visible');\n        $('.select-color').removeClass('visible');\n        $('.problem-form__price-wrap').removeClass('visible');\n        prodName = prodBtn.filter(':checked').val();\n        var outputBox = $('.select-model__btn-group');\n        outputBox.empty();\n        var modelArr = priceList[prodName].model;\n        for (var name in modelArr){\n            var elem = '<label class=\"btn select-model__btn\">'+ modelArr[name].name +'\\n' +\n                            '<input type=\"radio\" name=\"model\" value=\"'+ modelArr[name].name +'\" data-model=\"'+ name +'\"> </label>';\n            outputBox.append(elem);\n        }\n        // img\n        $('.problem-form__center-img').attr('src', priceList[prodName].img);\n        $('.select-model__title > .js-out').html(prodName);\n        $('.select-color__title > .js-out').html(prodName);\n\n        checkedRadio('input[name=\"product\"]');\n        checkedRadio('input[name=\"model\"]');\n        $('input[name=\"product\"]').on('change', function () {\n            $('.select-model').addClass('visible');\n            $('html, body').stop(true).animate({\n                scrollTop: $(\".select-model\").offset().top -20\n            }, scrollTime);\n        });\n        $('input[name=\"model\"]').on('change', function () {\n            $('.select-color').addClass('visible');\n            $('html, body').stop(true).animate({\n                scrollTop: $(\".select-color\").offset().top -20\n            }, scrollTime);\n        });\n        $('.js-price-output').html('');\n        modelBtn = $('[name=\"model\"]');\n        modelBtn.on('change', OutputColor);\n        modelBtn.on('change', OutputProblem);\n    }\n    OutputModel();\n    prodBtn.on('change', OutputModel);\n\n//output color\n    var modelName;\n    function OutputColor() {\n        $('.select-problem').removeClass('visible');\n        $('.problem-form__price-wrap').removeClass('visible');\n        modelName = modelBtn.filter(':checked').data('model');\n        var outputBox = $('.select-color__btn-group');\n        outputBox.empty();\n        var arr = priceList[prodName].model[modelName].color;\n        for (var name in arr){\n             var elem = '<label class=\"btn select-color__btn\">\\n' +\n                            '<i class=\"select-color__btn_circle\" style=\"background-color: '+ arr[name].value +'\"></i>\\n' +\n                                '<input type=\"radio\" name=\"color\" value=\"'+ arr[name].name +'\">\\n'+\n                                    '<br>'+ arr[name].name +'</label>';\n\n             outputBox.append(elem);\n        }\n        checkedRadio('input[name=\"color\"]');\n        $('input[name=\"color\"]').on('change', function () {\n            $('.select-problem').addClass('visible');\n            $('html, body').stop(true).animate({\n                scrollTop: $(\".select-problem\").offset().top -20\n            }, scrollTime);\n        });\n        //colorBtn = $('[name=\"color\"]');\n        //colorBtn.on('change', OutputProblem);\n    }\n\n//output problem\n    function OutputProblem() {\n        //modelName = modelBtn.filter(':checked').val();\n        var outputBox = $('.checked-problem');\n        outputBox.empty();\n        var arr = priceList[prodName].model[modelName].price;\n        for (var name in arr){\n            if(arr[name][1] === 'Original'){\n                var elem = '<label class=\"btn checked-problem__item\">'+ arr[name][0] +'\\n' +\n                            '<span class=\"checked-problem__link\">Original</span>'+\n                                '<input type=\"checkbox\" name=\"problem\" value=\\''+ arr[name][0] +'\\' data-price=\"'+ arr[name][2] +'\"></label>';\n            }\n            else{\n                var elem = '<label class=\"btn checked-problem__item\">'+ arr[name][0] +'\\n' +\n                    '<input type=\"checkbox\" name=\"problem\" value=\\''+  arr[name][0] +'\\' data-price=\"'+ arr[name][1] +'\"></label>';\n            }\n\n            outputBox.append(elem);\n        }\n        checkedCheckbox('input[name=\"problem\"]');\n        $('input[name=\"problem\"]').on('change', function () {\n            $('.problem-form__price-wrap').addClass('visible');\n            /// problem checked\n            var priceTotal = 0;\n            var countProblem = 0;\n            $('input[name=\"problem\"]').filter(':checked').each(function () {\n                priceTotal += $(this).data('price');\n                countProblem ++;\n            });\n            //scroll\n            if(priceTotal === 0){\n                $('.problem-form__price').css('display', 'none')\n            }\n            else{\n                $('.problem-form__price').css('display', 'block')\n            }\n            if(countProblem !== 0 ){\n                $('html, body').stop(true).animate({\n                    scrollTop: $(\".problem-form__price-wrap\").offset().top -20\n                }, scrollTime);\n            }\n            else{\n                $('.problem-form__price-wrap').removeClass('visible');\n            }\n\n            $('.js-price-output').html(' от ' + priceTotal);\n        });\n    }\n    /*======= End of output list ============*/\n    function checkedRadio(elem) {\n        $(elem).filter(\":checked\").parent('label').addClass('checked');\n        $(elem).css('display', 'none');\n        $(elem).on('click', function (e) {\n            e.stopPropagation();\n            $(elem).parent('label').removeClass('checked');\n            $(this).parent('label').addClass('checked');\n        })\n    }\n    function checkedCheckbox(elem) {\n        $(elem).filter(\":checked\").parent('label').addClass('checked');\n        $(elem).css('display', 'none');\n        $(elem).on('click', function (e) {\n            e.stopPropagation();\n            $(this).parent('label').toggleClass('checked');\n        })\n    }\n});"],"file":"../calculator.js"}